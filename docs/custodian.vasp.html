<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>custodian.vasp package &#8212; custodian 2023.6.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/flasky.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-39574369-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">custodian 2023.6.5 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">custodian.vasp package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="custodian-vasp-package">
<h1>custodian.vasp package<a class="headerlink" href="#custodian-vasp-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-custodian.vasp.handlers">
<span id="custodian-vasp-handlers-module"></span><h2>custodian.vasp.handlers module<a class="headerlink" href="#module-custodian.vasp.handlers" title="Permalink to this heading">¶</a></h2>
<p>This module implements specific error handlers for VASP runs. These handlers
try to detect common errors in vasp runs and attempt to fix them on the fly
by modifying the input files.</p>
<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.AliasingErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">AliasingErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasp.out'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#AliasingErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.AliasingErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Master VaspErrorHandler class that handles a number of common errors
that occur during VASP runs.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> (<em>str</em>) – This is the file where the stdout for vasp
is being redirected. The error messages that are checked are
present in the stdout. Defaults to “vasp.out”, which is the
default redirect used by <a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.AliasingErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#AliasingErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.AliasingErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.AliasingErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#AliasingErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.AliasingErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.AliasingErrorHandler.error_msgs">
<span class="sig-name descname"><span class="pre">error_msgs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'aliasing':</span> <span class="pre">['WARNING:</span> <span class="pre">small</span> <span class="pre">aliasing</span> <span class="pre">(wrap</span> <span class="pre">around)</span> <span class="pre">errors</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">expected'],</span> <span class="pre">'aliasing_incar':</span> <span class="pre">['Your</span> <span class="pre">FFT</span> <span class="pre">grids</span> <span class="pre">(NGX,NGY,NGZ)</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">sufficient</span> <span class="pre">for</span> <span class="pre">an</span> <span class="pre">accurate']}</span></em><a class="headerlink" href="#custodian.vasp.handlers.AliasingErrorHandler.error_msgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.AliasingErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.AliasingErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.CheckpointHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">CheckpointHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3600</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#CheckpointHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.CheckpointHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>This is not an error handler per se, but rather a checkpointer. What this
does is that every X seconds, a STOPCAR and CHKPT will be written. This
forces VASP to stop at the end of the next ionic step. The files are then
copied into a subdir, and then the job is restarted. To use this proper,
max_errors in Custodian must be set to a very high value, and you
probably wouldn’t want to use any standard VASP error handlers. The
checkpoint will be stored in subdirs chk_#. This should be used in
combination with the StoppedRunHandler.</p>
<p>Initializes the handler with an interval.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>interval</strong> (<em>int</em>) – Interval at which to checkpoint in seconds.</p></li>
<li><p><strong>3600</strong> (<em>Defaults to</em>) – </p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.CheckpointHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#CheckpointHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.CheckpointHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.CheckpointHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#CheckpointHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.CheckpointHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.CheckpointHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.CheckpointHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.CheckpointHandler.is_terminating">
<span class="sig-name descname"><span class="pre">is_terminating</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.CheckpointHandler.is_terminating" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this handler terminates a job upon error detection. By
default, this is True, which means that the current Job will be
terminated upon error detection, corrections applied,
and restarted. In some instances, some errors may not need the job to be
terminated or may need to wait for some other event to terminate a job.
For example, a particular error may require a flag to be set to request
a job to terminate gracefully once it finishes its current task. The
handler to set the flag should be classified as is_terminating = False to
not terminate the job.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.DriftErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DriftErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_drift</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">3</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enaug_multiply</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#DriftErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.DriftErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Corrects for total drift exceeding the force convergence criteria.</p>
<p>Initializes the handler with max drift
:param max_drift: This defines the max drift. Leaving this at the default of None gets the max_drift from</p>
<blockquote>
<div><p>EDFIFFG</p>
</div></blockquote>
<dl class="field-list simple">
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.DriftErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#DriftErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.DriftErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.DriftErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#DriftErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.DriftErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.FrozenJobErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FrozenJobErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasp.out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">21600</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#FrozenJobErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.FrozenJobErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Detects an error when the output file has not been updated
in timeout seconds. Changes ALGO to Normal from Fast</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_filename</strong> (<em>str</em>) – This is the file where the stdout for vasp
is being redirected. The error messages that are checked are
present in the stdout. Defaults to “vasp.out”, which is the
default redirect used by <a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p></li>
<li><p><strong>timeout</strong> (<em>int</em>) – The time in seconds between checks where if there
is no activity on the output file, the run is considered
frozen. Defaults to 3600 seconds, i.e., 1 hour.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.FrozenJobErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#FrozenJobErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.FrozenJobErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.FrozenJobErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#FrozenJobErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.FrozenJobErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.FrozenJobErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.FrozenJobErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.IncorrectSmearingHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">IncorrectSmearingHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasprun.xml'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#IncorrectSmearingHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.IncorrectSmearingHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Check if a calculation is a metal (zero bandgap), has been run with
ISMEAR=-5, and is not a static calculation, which is only appropriate for
semiconductors. If this occurs, this handler will rerun the calculation
using the smearing settings appropriate for metals (ISMEAR=2, SIGMA=0.2).</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> (<em>str</em>) – Filename for the vasprun.xml file. Change
this only if it is different from the default (unlikely).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.IncorrectSmearingHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#IncorrectSmearingHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.IncorrectSmearingHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.IncorrectSmearingHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#IncorrectSmearingHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.IncorrectSmearingHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.IncorrectSmearingHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.IncorrectSmearingHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LargeSigmaHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LargeSigmaHandler</span></span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#LargeSigmaHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.LargeSigmaHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>When ISMEAR &gt; 0 (Methfessel-Paxton), monitor the magnitude of the entropy
term T*S in the OUTCAR file. If the entropy term is larger than 1 meV/atom, reduce the
value of SIGMA. See VASP documentation for ISMEAR.</p>
<p>Initializes the handler with a buffer time.</p>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LargeSigmaHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#LargeSigmaHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.LargeSigmaHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LargeSigmaHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#LargeSigmaHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.LargeSigmaHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LargeSigmaHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.LargeSigmaHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LrfCommutatorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">LrfCommutatorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'std_err.txt'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#LrfCommutatorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.LrfCommutatorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Corrects LRF_COMMUTATOR errors by setting LPEAD=True if not already set.
Note that switching LPEAD=T can slightly change results versus the
default due to numerical evaluation of derivatives.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> (<em>str</em>) – This is the file where the stderr for vasp
is being redirected. The error messages that are checked are
present in the stderr. Defaults to “std_err.txt”, which is the
default redirect used by <a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LrfCommutatorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#LrfCommutatorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.LrfCommutatorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LrfCommutatorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#LrfCommutatorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.LrfCommutatorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LrfCommutatorHandler.error_msgs">
<span class="sig-name descname"><span class="pre">error_msgs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'lrf_comm':</span> <span class="pre">['LRF_COMMUTATOR</span> <span class="pre">internal</span> <span class="pre">error']}</span></em><a class="headerlink" href="#custodian.vasp.handlers.LrfCommutatorHandler.error_msgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.LrfCommutatorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.LrfCommutatorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.MeshSymmetryErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MeshSymmetryErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasp.out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_vasprun</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasprun.xml'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#MeshSymmetryErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Corrects the mesh symmetry error in VASP. This error is sometimes
non-fatal. So this error handler only checks at the end of the run,
and if the run has converged, no error is recorded.</p>
<p>Initializes the handler with the output files to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_filename</strong> (<em>str</em>) – This is the file where the stdout for vasp
is being redirected. The error messages that are checked are
present in the stdout. Defaults to “vasp.out”, which is the
default redirect used by <a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p></li>
<li><p><strong>output_vasprun</strong> (<em>str</em>) – Filename for the vasprun.xml file. Change
this only if it is different from the default (unlikely).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.MeshSymmetryErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#MeshSymmetryErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.MeshSymmetryErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#MeshSymmetryErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.MeshSymmetryErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.NonConvergingErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NonConvergingErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OSZICAR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nionic_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#NonConvergingErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.NonConvergingErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Check if a run is hitting the maximum number of electronic steps at the
last nionic_steps ionic steps (default=10). If so, change ALGO using a
multi-step ladder scheme or kill the job.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_filename</strong> (<em>str</em>) – This is the OSZICAR file. Change
this only if it is different from the default (unlikely).</p></li>
<li><p><strong>nionic_steps</strong> (<em>int</em>) – The threshold number of ionic steps that
needs to hit the maximum number of electronic steps for the
run to be considered non-converging.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.NonConvergingErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#NonConvergingErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.NonConvergingErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.NonConvergingErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#NonConvergingErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.NonConvergingErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.NonConvergingErrorHandler.from_dict">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#NonConvergingErrorHandler.from_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.NonConvergingErrorHandler.from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Custom from_dict method to preserve backwards compatibility with
older versions of Custodian.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.NonConvergingErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.NonConvergingErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PositiveEnergyErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PositiveEnergyErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OSZICAR'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#PositiveEnergyErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Check if a run has positive absolute energy.
If so, change ALGO from Fast to Normal or kill the job.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> (<em>str</em>) – This is the OSZICAR file. Change
this only if it is different from the default (unlikely).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PositiveEnergyErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#PositiveEnergyErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PositiveEnergyErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#PositiveEnergyErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PositiveEnergyErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PotimErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">PotimErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'POSCAR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OSZICAR'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dE_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#PotimErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.PotimErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Check if a run has excessively large positive energy changes.
This is typically caused by too large a POTIM. Runs typically
end up crashing with some other error (e.g. BRMIX) as the geometry
gets progressively worse.</p>
<p>Initializes the handler with the input and output files to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_filename</strong> (<em>str</em>) – This is the POSCAR file that the run
started from. Defaults to “POSCAR”. Change
this only if it is different from the default (unlikely).</p></li>
<li><p><strong>output_filename</strong> (<em>str</em>) – This is the OSZICAR file. Change
this only if it is different from the default (unlikely).</p></li>
<li><p><strong>dE_threshold</strong> (<em>float</em>) – The threshold energy change. Defaults to 1eV.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PotimErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#PotimErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.PotimErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PotimErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#PotimErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.PotimErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.PotimErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.PotimErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.ScanMetalHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ScanMetalHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasprun.xml'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#ScanMetalHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.ScanMetalHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Check if a SCAN calculation is a metal (zero bandgap) but has been run with
a KSPACING value appropriate for semiconductors. If this occurs, this handler
will rerun the calculation using the KSPACING setting appropriate for metals
(KSPACING=0.22). Note that this handler depends on values set in MPScanRelaxSet.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> (<em>str</em>) – Filename for the vasprun.xml file. Change
this only if it is different from the default (unlikely).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.ScanMetalHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#ScanMetalHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.ScanMetalHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.ScanMetalHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#ScanMetalHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.ScanMetalHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.ScanMetalHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.ScanMetalHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StdErrHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StdErrHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'std_err.txt'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#StdErrHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.StdErrHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Master StdErr class that handles a number of common errors
that occur during VASP runs with error messages only in
the standard error.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> (<em>str</em>) – This is the file where the stderr for vasp
is being redirected. The error messages that are checked are
present in the stderr. Defaults to “std_err.txt”, which is the
default redirect used by <a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StdErrHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#StdErrHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.StdErrHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StdErrHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#StdErrHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.StdErrHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StdErrHandler.error_msgs">
<span class="sig-name descname"><span class="pre">error_msgs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'kpoints_trans':</span> <span class="pre">['internal</span> <span class="pre">error</span> <span class="pre">in</span> <span class="pre">GENERATE_KPOINTS_TRANS:</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">G-vector</span> <span class="pre">changed</span> <span class="pre">in</span> <span class="pre">star'],</span> <span class="pre">'out_of_memory':</span> <span class="pre">['Allocation</span> <span class="pre">would</span> <span class="pre">exceed</span> <span class="pre">memory</span> <span class="pre">limit']}</span></em><a class="headerlink" href="#custodian.vasp.handlers.StdErrHandler.error_msgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StdErrHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.StdErrHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StoppedRunHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">StoppedRunHandler</span></span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#StoppedRunHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.StoppedRunHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>This is not an error handler per se, but rather a checkpointer. What this
does is that every X seconds, a STOPCAR will be written. This forces VASP to
stop at the end of the next ionic step. The files are then copied into a
subdir, and then the job is restarted. To use this proper, max_errors in
Custodian must be set to a very high value, and you probably wouldn’t
want to use any standard VASP error handlers. The checkpoint will be
stored in subdirs chk_#. This should be used in combination with the
StoppedRunHandler.</p>
<p>Dummy init.</p>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StoppedRunHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#StoppedRunHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.StoppedRunHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StoppedRunHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#StoppedRunHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.StoppedRunHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StoppedRunHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.StoppedRunHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.StoppedRunHandler.is_terminating">
<span class="sig-name descname"><span class="pre">is_terminating</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.StoppedRunHandler.is_terminating" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this handler terminates a job upon error detection. By
default, this is True, which means that the current Job will be
terminated upon error detection, corrections applied,
and restarted. In some instances, some errors may not need the job to be
terminated or may need to wait for some other event to terminate a job.
For example, a particular error may require a flag to be set to request
a job to terminate gracefully once it finishes its current task. The
handler to set the flag should be classified as is_terminating = False to
not terminate the job.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.UnconvergedErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UnconvergedErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasprun.xml'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#UnconvergedErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.UnconvergedErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Check if a run is converged.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_vasprun</strong> (<em>str</em>) – Filename for the vasprun.xml file. Change
this only if it is different from the default (unlikely).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.UnconvergedErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#UnconvergedErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.UnconvergedErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.UnconvergedErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#UnconvergedErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.UnconvergedErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.UnconvergedErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.UnconvergedErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.VaspErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VaspErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasp.out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors_subset_to_catch</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vtst_fixes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#VaspErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.VaspErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Master VaspErrorHandler class that handles a number of common errors
that occur during VASP runs.</p>
<p>Initializes the handler with the output file to check.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_filename</strong> (<em>str</em>) – This is the file where the stdout for vasp
is being redirected. The error messages that are checked are
present in the stdout. Defaults to “vasp.out”, which is the
default redirect used by <a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p></li>
<li><p><strong>errors_subset_to_detect</strong> (<em>list</em>) – A subset of errors to catch. The
default is None, which means all supported errors are detected.
Use this to only catch only a subset of supported errors.
E.g., [“eddrrm”, “zheev”] will only catch the eddrmm and zheev
errors, and not others. If you wish to only excluded one or
two of the errors, you can create this list by the following
lines:</p></li>
<li><p><strong>vtst_fixes</strong> (<em>bool</em>) – <p>Whether to consider VTST optimizers. Defaults to
False for compatibility purposes, but if you have VTST, you
would likely benefit from setting this to True.</p>
<p><a href="#id1"><span class="problematic" id="id2">``</span></a>`
subset = list(VaspErrorHandler.error_msgs.keys())
subset.pop(“eddrrm”)</p>
<p>handler = VaspErrorHandler(errors_subset_to_catch=subset)
<a href="#id3"><span class="problematic" id="id4">``</span></a><a href="#id5"><span class="problematic" id="id6">`</span></a></p>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.VaspErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#VaspErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.VaspErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.VaspErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#VaspErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.VaspErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.VaspErrorHandler.error_msgs">
<span class="sig-name descname"><span class="pre">error_msgs</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'algo_tet':</span> <span class="pre">['ALGO=A</span> <span class="pre">and</span> <span class="pre">IALGO=5X</span> <span class="pre">tend</span> <span class="pre">to</span> <span class="pre">fail'],</span> <span class="pre">'amin':</span> <span class="pre">['One</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">lattice</span> <span class="pre">vectors</span> <span class="pre">is</span> <span class="pre">very</span> <span class="pre">long</span> <span class="pre">(&gt;50</span> <span class="pre">A),</span> <span class="pre">but</span> <span class="pre">AMIN'],</span> <span class="pre">'bravais':</span> <span class="pre">['Inconsistent</span> <span class="pre">Bravais</span> <span class="pre">lattice'],</span> <span class="pre">'brions':</span> <span class="pre">['BRIONS</span> <span class="pre">problems:</span> <span class="pre">POTIM</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">increased'],</span> <span class="pre">'brmix':</span> <span class="pre">['BRMIX:</span> <span class="pre">very</span> <span class="pre">serious</span> <span class="pre">problems'],</span> <span class="pre">'coef':</span> <span class="pre">['while</span> <span class="pre">reading</span> <span class="pre">plane',</span> <span class="pre">'while</span> <span class="pre">reading</span> <span class="pre">WAVECAR'],</span> <span class="pre">'dentet':</span> <span class="pre">['DENTET'],</span> <span class="pre">'dfpt_ncore':</span> <span class="pre">['PEAD</span> <span class="pre">routines</span> <span class="pre">do</span> <span class="pre">not</span> <span class="pre">work</span> <span class="pre">for</span> <span class="pre">NCORE',</span> <span class="pre">'remove</span> <span class="pre">the</span> <span class="pre">tag</span> <span class="pre">NPAR</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">INCAR</span> <span class="pre">file'],</span> <span class="pre">'edddav':</span> <span class="pre">['Error</span> <span class="pre">EDDDAV:</span> <span class="pre">Call</span> <span class="pre">to</span> <span class="pre">ZHEGV</span> <span class="pre">failed'],</span> <span class="pre">'eddrmm':</span> <span class="pre">['WARNING</span> <span class="pre">in</span> <span class="pre">EDDRMM:</span> <span class="pre">call</span> <span class="pre">to</span> <span class="pre">ZHEGV</span> <span class="pre">failed'],</span> <span class="pre">'elf_kpar':</span> <span class="pre">['ELF:</span> <span class="pre">KPAR&gt;1</span> <span class="pre">not</span> <span class="pre">implemented'],</span> <span class="pre">'elf_ncl':</span> <span class="pre">['WARNING:</span> <span class="pre">ELF</span> <span class="pre">not</span> <span class="pre">implemented</span> <span class="pre">for</span> <span class="pre">non</span> <span class="pre">collinear</span> <span class="pre">case'],</span> <span class="pre">'grad_not_orth':</span> <span class="pre">['EDWAV:</span> <span class="pre">internal</span> <span class="pre">error,</span> <span class="pre">the</span> <span class="pre">gradient</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">orthogonal'],</span> <span class="pre">'hnform':</span> <span class="pre">['HNFORM:</span> <span class="pre">k-point</span> <span class="pre">generating'],</span> <span class="pre">'incorrect_shift':</span> <span class="pre">['Could</span> <span class="pre">not</span> <span class="pre">get</span> <span class="pre">correct</span> <span class="pre">shifts'],</span> <span class="pre">'inv_rot_mat':</span> <span class="pre">['rotation</span> <span class="pre">matrix</span> <span class="pre">was</span> <span class="pre">not</span> <span class="pre">found</span> <span class="pre">(increase</span> <span class="pre">SYMPREC)'],</span> <span class="pre">'nbands_not_sufficient':</span> <span class="pre">['number</span> <span class="pre">of</span> <span class="pre">bands</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">sufficient'],</span> <span class="pre">'nicht_konv':</span> <span class="pre">['ERROR:</span> <span class="pre">SBESSELITER</span> <span class="pre">:</span> <span class="pre">nicht</span> <span class="pre">konvergent'],</span> <span class="pre">'point_group':</span> <span class="pre">['group</span> <span class="pre">operation</span> <span class="pre">missing'],</span> <span class="pre">'posmap':</span> <span class="pre">['POSMAP'],</span> <span class="pre">'pricel':</span> <span class="pre">['internal</span> <span class="pre">error</span> <span class="pre">in</span> <span class="pre">subroutine</span> <span class="pre">PRICEL'],</span> <span class="pre">'pssyevx':</span> <span class="pre">['ERROR</span> <span class="pre">in</span> <span class="pre">subspace</span> <span class="pre">rotation</span> <span class="pre">PSSYEVX'],</span> <span class="pre">'read_error':</span> <span class="pre">['Error</span> <span class="pre">reading</span> <span class="pre">item',</span> <span class="pre">'Error</span> <span class="pre">code</span> <span class="pre">was</span> <span class="pre">IERR=</span> <span class="pre">5'],</span> <span class="pre">'real_optlay':</span> <span class="pre">['REAL_OPTLAY:</span> <span class="pre">internal</span> <span class="pre">error',</span> <span class="pre">'REAL_OPT:</span> <span class="pre">internal</span> <span class="pre">ERROR'],</span> <span class="pre">'rhosyg':</span> <span class="pre">['RHOSYG'],</span> <span class="pre">'rot_matrix':</span> <span class="pre">['Found</span> <span class="pre">some</span> <span class="pre">non-integer</span> <span class="pre">element</span> <span class="pre">in</span> <span class="pre">rotation</span> <span class="pre">matrix',</span> <span class="pre">'SGRCON'],</span> <span class="pre">'rspher':</span> <span class="pre">['ERROR</span> <span class="pre">RSPHER'],</span> <span class="pre">'set_core_wf':</span> <span class="pre">['internal</span> <span class="pre">error</span> <span class="pre">in</span> <span class="pre">SET_CORE_WF'],</span> <span class="pre">'subspacematrix':</span> <span class="pre">['WARNING:</span> <span class="pre">Sub-Space-Matrix</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">hermitian</span> <span class="pre">in</span> <span class="pre">DAV'],</span> <span class="pre">'symprec_noise':</span> <span class="pre">['determination</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">symmetry</span> <span class="pre">of</span> <span class="pre">your</span> <span class="pre">systems</span> <span class="pre">shows</span> <span class="pre">a</span> <span class="pre">strong'],</span> <span class="pre">'tet':</span> <span class="pre">['Tetrahedron</span> <span class="pre">method</span> <span class="pre">fails',</span> <span class="pre">'tetrahedron</span> <span class="pre">method</span> <span class="pre">fails',</span> <span class="pre">'Fatal</span> <span class="pre">error</span> <span class="pre">detecting</span> <span class="pre">k-mesh',</span> <span class="pre">'Fatal</span> <span class="pre">error:</span> <span class="pre">unable</span> <span class="pre">to</span> <span class="pre">match</span> <span class="pre">k-point',</span> <span class="pre">'Routine</span> <span class="pre">TETIRR</span> <span class="pre">needs</span> <span class="pre">special</span> <span class="pre">values',</span> <span class="pre">'Tetrahedron</span> <span class="pre">method</span> <span class="pre">fails</span> <span class="pre">(number</span> <span class="pre">of</span> <span class="pre">k-points</span> <span class="pre">&lt;</span> <span class="pre">4)',</span> <span class="pre">'BZINTS'],</span> <span class="pre">'tetirr':</span> <span class="pre">['Routine</span> <span class="pre">TETIRR</span> <span class="pre">needs</span> <span class="pre">special</span> <span class="pre">values'],</span> <span class="pre">'too_few_bands':</span> <span class="pre">['TOO</span> <span class="pre">FEW</span> <span class="pre">BANDS'],</span> <span class="pre">'triple_product':</span> <span class="pre">['ERROR:</span> <span class="pre">the</span> <span class="pre">triple</span> <span class="pre">product</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">basis</span> <span class="pre">vectors'],</span> <span class="pre">'zbrent':</span> <span class="pre">['ZBRENT:</span> <span class="pre">fatal</span> <span class="pre">internal</span> <span class="pre">in',</span> <span class="pre">'ZBRENT:</span> <span class="pre">fatal</span> <span class="pre">error</span> <span class="pre">in</span> <span class="pre">bracketing'],</span> <span class="pre">'zheev':</span> <span class="pre">['ERROR</span> <span class="pre">EDDIAG:</span> <span class="pre">Call</span> <span class="pre">to</span> <span class="pre">routine</span> <span class="pre">ZHEEV</span> <span class="pre">failed!'],</span> <span class="pre">'zpotrf':</span> <span class="pre">['LAPACK:</span> <span class="pre">Routine</span> <span class="pre">ZPOTRF</span> <span class="pre">failed',</span> <span class="pre">'Routine</span> <span class="pre">ZPOTRF</span> <span class="pre">ZTRTRI']}</span></em><a class="headerlink" href="#custodian.vasp.handlers.VaspErrorHandler.error_msgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.VaspErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.VaspErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.handlers.WalltimeHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">WalltimeHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wall_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">electronic_step_stop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#WalltimeHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.WalltimeHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Check if a run is nearing the walltime. If so, write a STOPCAR with
LSTOP or LABORT = .True.. You can specify the walltime either in the init (
which is unfortunately necessary for SGE and SLURM systems. If you happen
to be running on a PBS system and the PBS_WALLTIME variable is in the run
environment, the wall time will be automatically determined if not set.</p>
<p>Initializes the handler with a buffer time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wall_time</strong> (<em>int</em>) – Total walltime in seconds. If this is None and
the job is running on a PBS system, the handler will attempt to
determine the walltime from the PBS_WALLTIME environment
variable. If the wall time cannot be determined or is not
set, this handler will have no effect.</p></li>
<li><p><strong>buffer_time</strong> (<em>int</em>) – The min amount of buffer time in secs at the
end that the STOPCAR will be written. The STOPCAR is written
when the time remaining is &lt; the higher of 3 x the average
time for each ionic step and the buffer time. Defaults to
300 secs, which is the default polling time of Custodian.
This is typically sufficient for the current ionic step to
complete. But if other operations are being performed after
the run has stopped, the buffer time may need to be increased
accordingly.</p></li>
<li><p><strong>electronic_step_stop</strong> (<em>bool</em>) – Whether to check for electronic steps
instead of ionic steps (e.g. for static runs on large systems or
static HSE runs, …). Be careful that results such as density
or wavefunctions might not be converged at the electronic level.
Should be used with LWAVE = .True. to be useful. If this is
True, the STOPCAR is written with LABORT = .TRUE. instead of
LSTOP = .TRUE.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.WalltimeHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#WalltimeHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.WalltimeHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.handlers.WalltimeHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/handlers.html#WalltimeHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.handlers.WalltimeHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.WalltimeHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#custodian.vasp.handlers.WalltimeHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.WalltimeHandler.is_terminating">
<span class="sig-name descname"><span class="pre">is_terminating</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.WalltimeHandler.is_terminating" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this handler terminates a job upon error detection. By
default, this is True, which means that the current Job will be
terminated upon error detection, corrections applied,
and restarted. In some instances, some errors may not need the job to be
terminated or may need to wait for some other event to terminate a job.
For example, a particular error may require a flag to be set to request
a job to terminate gracefully once it finishes its current task. The
handler to set the flag should be classified as is_terminating = False to
not terminate the job.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.vasp.handlers.WalltimeHandler.raises_runtime_error">
<span class="sig-name descname"><span class="pre">raises_runtime_error</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.vasp.handlers.WalltimeHandler.raises_runtime_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Whether this handler causes custodian to raise a runtime error if it cannot
handle the error (i.e. if correct returns a dict with “actions”:None, or
“actions”:[])</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-custodian.vasp.interpreter">
<span id="custodian-vasp-interpreter-module"></span><h2>custodian.vasp.interpreter module<a class="headerlink" href="#module-custodian.vasp.interpreter" title="Permalink to this heading">¶</a></h2>
<p>Implements various interpreters and modders for VASP.</p>
<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.interpreter.VaspModder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VaspModder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/interpreter.html#VaspModder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.interpreter.VaspModder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.ansible.html#custodian.ansible.interpreter.Modder" title="custodian.ansible.interpreter.Modder"><code class="xref py py-class docutils literal notranslate"><span class="pre">Modder</span></code></a></p>
<p>A Modder for VaspInputSets.</p>
<p>Initializes a Modder for VaspInput sets</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actions</strong> (<em>[</em><em>Action</em><em>]</em>) – A sequence of supported actions. See
<a class="reference internal" href="custodian.ansible.html#module-custodian.ansible.actions" title="custodian.ansible.actions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">custodian.ansible.actions</span></code></a>. Default is None,
which means DictActions and FileActions are supported.</p></li>
<li><p><strong>strict</strong> (<em>bool</em>) – Indicating whether to use strict mode. In non-strict
mode, unsupported actions are simply ignored without any
errors raised. In strict mode, if an unsupported action is
supplied, a ValueError is raised. Defaults to True.</p></li>
<li><p><strong>vi</strong> (<em>VaspInput</em>) – A VaspInput object from the current directory.
Initialized automatically if not passed (but passing it will
avoid having to reparse the directory).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.interpreter.VaspModder.apply_actions">
<span class="sig-name descname"><span class="pre">apply_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/interpreter.html#VaspModder.apply_actions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.interpreter.VaspModder.apply_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a list of actions to the Vasp Input Set and rewrites modified
files.
:param actions [dict]: A list of actions of the form {‘file’: filename,</p>
<blockquote>
<div><p>‘action’: moddermodification} or {‘dict’: vaspinput_key,
‘action’: moddermodification}</p>
</div></blockquote>
</dd></dl>

</dd></dl>

</section>
<section id="module-custodian.vasp.jobs">
<span id="custodian-vasp-jobs-module"></span><h2>custodian.vasp.jobs module<a class="headerlink" href="#module-custodian.vasp.jobs" title="Permalink to this heading">¶</a></h2>
<p>This module implements basic kinds of jobs for VASP runs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.jobs.GenerateVaspInputJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">GenerateVaspInputJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_set</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contcar_only</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#GenerateVaspInputJob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.GenerateVaspInputJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.Job" title="custodian.custodian.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a></p>
<p>Generates a VASP input based on an existing directory. This is typically
used to modify the VASP input files before the next VaspJob.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_set</strong> (<em>str</em>) – Full path to the input set. E.g.,
“pymatgen.io.vasp.sets.MPNonSCFSet”.</p></li>
<li><p><strong>contcar_only</strong> (<em>bool</em>) – If True (default), only CONTCAR structures
are used as input to the input set.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.GenerateVaspInputJob.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#GenerateVaspInputJob.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.GenerateVaspInputJob.postprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy postprocess.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.GenerateVaspInputJob.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#GenerateVaspInputJob.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.GenerateVaspInputJob.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the calculation.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.GenerateVaspInputJob.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#GenerateVaspInputJob.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.GenerateVaspInputJob.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Dummy setup</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VaspJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vasp_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasp.out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'std_err.txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_npar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_vasp_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copy_magmom</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.Job" title="custodian.custodian.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a></p>
<p>A basic vasp job. Just runs whatever is in the directory. But conceivably
can be a complex processing of inputs etc. with initialization.</p>
<p>This constructor is necessarily complex due to the need for
flexibility. For standard kinds of runs, it’s often better to use one
of the static constructors. The defaults are usually fine too.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vasp_cmd</strong> (<em>str</em>) – Command to run vasp as a list of args. For example,
if you are using mpirun, it can be something like
[“mpirun”, “pvasp.5.2.11”]</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – Name of file to direct standard out to.
Defaults to “vasp.out”.</p></li>
<li><p><strong>stderr_file</strong> (<em>str</em>) – Name of file to direct standard error to.
Defaults to “std_err.txt”.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – A suffix to be appended to the final output. E.g.,
to rename all VASP output from say vasp.out to
vasp.out.relax1, provide “.relax1” as the suffix.</p></li>
<li><p><strong>final</strong> (<em>bool</em>) – Indicating whether this is the final vasp job in a
series. Defaults to True.</p></li>
<li><p><strong>backup</strong> (<em>bool</em>) – Whether to backup the initial input files. If True,
the INCAR, KPOINTS, POSCAR and POTCAR will be copied with a
“.orig” appended. Defaults to True.</p></li>
<li><p><strong>auto_npar</strong> (<em>bool</em>) – Whether to automatically tune NPAR to be sqrt(
number of cores) as recommended by VASP for DFT calculations.
Generally, this results in significant speedups. Defaults to
False. Set to False for HF, GW and RPA calculations.</p></li>
<li><p><strong>auto_gamma</strong> (<em>bool</em>) – Whether to automatically check if run is a
Gamma 1x1x1 run, and whether a Gamma optimized version of
VASP exists with “.gamma” appended to the name of the VASP
executable (typical setup in many systems). If so, run the
gamma optimized version of VASP instead of regular VASP. You
can also specify the gamma vasp command using the
gamma_vasp_cmd argument if the command is named differently.</p></li>
<li><p><strong>settings_override</strong> (<em>[</em><em>dict</em><em>]</em>) – <p>An ansible style list of dict to
override changes. For example, to set ISTART=1 for subsequent
runs and to copy the CONTCAR to the POSCAR, you will provide:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s2">&quot;dict&quot;</span><span class="p">:</span> <span class="s2">&quot;INCAR&quot;</span><span class="p">,</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;_set&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;ISTART&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}}},</span>
 <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;CONTCAR&quot;</span><span class="p">,</span>
  <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;_file_copy&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dest&quot;</span><span class="p">:</span> <span class="s2">&quot;POSCAR&quot;</span><span class="p">}}}]</span>
</pre></div>
</div>
</p></li>
<li><p><strong>gamma_vasp_cmd</strong> (<em>str</em>) – Command for gamma vasp version when
auto_gamma is True. Should follow the list style of
subprocess. Defaults to None, which means “.gamma” is added
to the last argument of the standard vasp_cmd.</p></li>
<li><p><strong>copy_magmom</strong> (<em>bool</em>) – Whether to copy the final magmom from the
OUTCAR to the next INCAR. Useful for multi-relaxation runs
where the CHGCAR and WAVECAR are sometimes deleted (due to
changes in fft grid, etc.). Only applies to non-final runs.</p></li>
<li><p><strong>auto_continue</strong> (<em>bool</em>) – Whether to automatically continue a run
if a STOPCAR is present. This is very useful if using the
wall-time handler which will write a read-only STOPCAR to
prevent VASP from deleting it once it finishes</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.constrained_opt_run">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">constrained_opt_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vasp_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lattice_direction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">initial_strain</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">atom_relax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algo</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bfgs'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">vasp_job_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.constrained_opt_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.constrained_opt_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator of jobs for a constrained optimization run. Typical
use case is when you want to approximate a biaxial strain situation,
e.g., you apply a defined strain to a and b directions of the lattice,
but allows the c-direction to relax.</p>
<p>Some guidelines on the use of this method:
i.  It is recommended you do not use the Auto kpoint generation. The</p>
<blockquote>
<div><p>grid generated via Auto may fluctuate with changes in lattice
param, resulting in numerical noise.</p>
</div></blockquote>
<ol class="lowerroman simple" start="2">
<li><p>Make sure your EDIFF/EDIFFG is properly set in your INCAR. The
optimization relies on these values to determine convergence.</p></li>
</ol>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vasp_cmd</strong> (<em>str</em>) – Command to run vasp as a list of args. For example,
if you are using mpirun, it can be something like
[“mpirun”, “pvasp.5.2.11”]</p></li>
<li><p><strong>lattice_direction</strong> (<em>str</em>) – Which direction to relax. Valid values are
“a”, “b” or “c”.</p></li>
<li><p><strong>initial_strain</strong> (<em>float</em>) – An initial strain to be applied to the
lattice_direction. This can usually be estimated as the
negative of the strain applied in the other two directions.
E.g., if you apply a tensile strain of 0.05 to the a and b
directions, you can use -0.05 as a reasonable first guess for
initial strain.</p></li>
<li><p><strong>atom_relax</strong> (<em>bool</em>) – Whether to relax atomic positions.</p></li>
<li><p><strong>max_steps</strong> (<em>int</em>) – The maximum number of runs. Defaults to 20 (
highly unlikely that this limit is ever reached).</p></li>
<li><p><strong>algo</strong> (<em>str</em>) – Algorithm to use to find minimum. Default is “bfgs”,
which is fast, but can be sensitive to numerical noise
in energy calculations. The alternative is “bisection”,
which is more robust but can be a bit slow. The code does fall
back on the bisection when bfgs gives a non-sensical result,
e.g., negative lattice params.</p></li>
<li><p><strong>**vasp_job_kwargs</strong> – Passthrough kwargs to VaspJob. See
<a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generator of jobs. At the end of the run, an “EOS.txt” is written
which provides a quick look at the E vs lattice parameter.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.double_relaxation_run">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">double_relaxation_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vasp_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_npar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ediffg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_kpts_first_relax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.double_relaxation_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.double_relaxation_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of two jobs corresponding to an AFLOW style double
relaxation run.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vasp_cmd</strong> (<em>str</em>) – Command to run vasp as a list of args. For example,
if you are using mpirun, it can be something like
[“mpirun”, “pvasp.5.2.11”]</p></li>
<li><p><strong>auto_npar</strong> (<em>bool</em>) – Whether to automatically tune NPAR to be sqrt(
number of cores) as recommended by VASP for DFT calculations.
Generally, this results in significant speedups. Defaults to
True. Set to False for HF, GW and RPA calculations.</p></li>
<li><p><strong>ediffg</strong> (<em>float</em>) – Force convergence criteria for subsequent runs (
ignored for the initial run.)</p></li>
<li><p><strong>half_kpts_first_relax</strong> (<em>bool</em>) – Whether to halve the kpoint grid
for the first relaxation. Speeds up difficult convergence
considerably. Defaults to False.</p></li>
<li><p><strong>auto_continue</strong> (<em>bool</em>) – Whether to automatically continue a run
if a STOPCAR is present. This is very useful if using the
wall-time handler which will write a read-only STOPCAR to
prevent VASP from deleting it once it finishes. Defaults to
False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of two jobs corresponding to an AFLOW style run.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.full_opt_run">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">full_opt_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vasp_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vol_change_tol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.02</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ediffg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_kpts_first_relax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">vasp_job_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.full_opt_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.full_opt_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a generator of jobs for a full optimization run. Basically,
this runs an infinite series of geometry optimization jobs until the
% vol change in a particular optimization is less than vol_change_tol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vasp_cmd</strong> (<em>str</em>) – Command to run vasp as a list of args. For example,
if you are using mpirun, it can be something like
[“mpirun”, “pvasp.5.2.11”]</p></li>
<li><p><strong>vol_change_tol</strong> (<em>float</em>) – The tolerance at which to stop a run.
Defaults to 0.05, i.e., 5%.</p></li>
<li><p><strong>max_steps</strong> (<em>int</em>) – The maximum number of runs. Defaults to 10 (
highly unlikely that this limit is ever reached).</p></li>
<li><p><strong>ediffg</strong> (<em>float</em>) – Force convergence criteria for subsequent runs (
ignored for the initial run.)</p></li>
<li><p><strong>half_kpts_first_relax</strong> (<em>bool</em>) – Whether to halve the kpoint grid
for the first relaxation. Speeds up difficult convergence
considerably. Defaults to False.</p></li>
<li><p><strong>**vasp_job_kwargs</strong> – Passthrough kwargs to VaspJob. See
<a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">custodian.vasp.jobs.VaspJob</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Generator of jobs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.metagga_opt_run">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">metagga_opt_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vasp_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_npar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ediffg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_kpts_first_relax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.metagga_opt_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.metagga_opt_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of thres jobs to perform an optimization for any
metaGGA functional. There is an initial calculation of the
GGA wavefunction which is fed into the initial metaGGA optimization
to precondition the electronic structure optimizer. The metaGGA
optimization is performed using the double relaxation scheme</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.postprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Postprocessing includes renaming and gzipping where necessary.
Also copies the magmom to the incar if necessary</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the actual VASP run.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(subprocess.Popen) Used for monitoring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs initial setup for VaspJob, including overriding any settings
and backing up.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspJob.terminate">
<span class="sig-name descname"><span class="pre">terminate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspJob.terminate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspJob.terminate" title="Permalink to this definition">¶</a></dt>
<dd><p>Kill all vasp processes associated with the current job.
This is done by looping over all processes and selecting the ones
that contain “vasp” as well as access files (CHGCAR in particular)
in the custodian working directory.
There is also a safety that kills all vasp processes if non of the
processes can be killed (This is bad if more than one vasp runs are
simultaneously executed on the same node). However, this should never
happen.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspNEBJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VaspNEBJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vasp_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'neb_vasp.out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'neb_std_err.txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">final</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_npar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">half_kpts</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_gamma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auto_continue</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma_vasp_cmd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">settings_override</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspNEBJob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspNEBJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#custodian.vasp.jobs.VaspJob" title="custodian.vasp.jobs.VaspJob"><code class="xref py py-class docutils literal notranslate"><span class="pre">VaspJob</span></code></a></p>
<p>A NEB vasp job, especially for CI-NEB running at PBS clusters.
The class is added for the purpose of handling a different folder
arrangement in NEB calculation.</p>
<p>This constructor is a simplified version of VaspJob, which satisfies
the need for flexibility. For standard kinds of runs, it’s often
better to use one of the static constructors. The defaults are
usually fine too.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vasp_cmd</strong> (<em>str</em>) – Command to run vasp as a list of args. For example,
if you are using mpirun, it can be something like
[“mpirun”, “pvasp.5.2.11”]</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – Name of file to direct standard out to.
Defaults to “vasp.out”.</p></li>
<li><p><strong>stderr_file</strong> (<em>str</em>) – Name of file to direct standard error to.
Defaults to “std_err.txt”.</p></li>
<li><p><strong>suffix</strong> (<em>str</em>) – A suffix to be appended to the final output. E.g.,
to rename all VASP output from say vasp.out to
vasp.out.relax1, provide “.relax1” as the suffix.</p></li>
<li><p><strong>final</strong> (<em>bool</em>) – Indicating whether this is the final vasp job in a
series. Defaults to True.</p></li>
<li><p><strong>backup</strong> (<em>bool</em>) – Whether to backup the initial input files. If True,
the INCAR, KPOINTS, POSCAR and POTCAR will be copied with a
“.orig” appended. Defaults to True.</p></li>
<li><p><strong>auto_npar</strong> (<em>bool</em>) – Whether to automatically tune NPAR to be sqrt(
number of cores) as recommended by VASP for DFT calculations.
Generally, this results in significant speedups. Defaults to
True. Set to False for HF, GW and RPA calculations.</p></li>
<li><p><strong>half_kpts</strong> (<em>bool</em>) – Whether to halve the kpoint grid for NEB.
Speeds up convergence considerably. Defaults to False.</p></li>
<li><p><strong>auto_gamma</strong> (<em>bool</em>) – Whether to automatically check if run is a
Gamma 1x1x1 run, and whether a Gamma optimized version of
VASP exists with “.gamma” appended to the name of the VASP
executable (typical setup in many systems). If so, run the
gamma optimized version of VASP instead of regular VASP. You
can also specify the gamma vasp command using the
gamma_vasp_cmd argument if the command is named differently.</p></li>
<li><p><strong>auto_continue</strong> (<em>bool</em>) – Whether to automatically continue a run
if a STOPCAR is present. This is very useful if using the
wall-time handler which will write a read-only STOPCAR to
prevent VASP from deleting it once it finishes.</p></li>
<li><p><strong>gamma_vasp_cmd</strong> (<em>str</em>) – Command for gamma vasp version when
auto_gamma is True. Should follow the list style of
subprocess. Defaults to None, which means “.gamma” is added
to the last argument of the standard vasp_cmd.</p></li>
<li><p><strong>settings_override</strong> (<em>[</em><em>dict</em><em>]</em>) – <p>An ansible style list of dict to
override changes. For example, to set ISTART=1 for subsequent
runs and to copy the CONTCAR to the POSCAR, you will provide:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[{</span><span class="s2">&quot;dict&quot;</span><span class="p">:</span> <span class="s2">&quot;INCAR&quot;</span><span class="p">,</span> <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;_set&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;ISTART&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">}}},</span>
 <span class="p">{</span><span class="s2">&quot;file&quot;</span><span class="p">:</span> <span class="s2">&quot;CONTCAR&quot;</span><span class="p">,</span>
  <span class="s2">&quot;action&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;_file_copy&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;dest&quot;</span><span class="p">:</span> <span class="s2">&quot;POSCAR&quot;</span><span class="p">}}}]</span>
</pre></div>
</div>
</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspNEBJob.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspNEBJob.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspNEBJob.postprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Postprocessing includes renaming and gzipping where necessary.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspNEBJob.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspNEBJob.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspNEBJob.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the actual VASP run.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>(subprocess.Popen) Used for monitoring.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.jobs.VaspNEBJob.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/jobs.html#VaspNEBJob.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.jobs.VaspNEBJob.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs initial setup for VaspNEBJob, including overriding any settings
and backing up.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-custodian.vasp.validators">
<span id="custodian-vasp-validators-module"></span><h2>custodian.vasp.validators module<a class="headerlink" href="#module-custodian.vasp.validators" title="Permalink to this heading">¶</a></h2>
<p>Implements various validatiors, e.g., check if vasprun.xml is valid, for VASP.</p>
<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.validators.VaspAECCARValidator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VaspAECCARValidator</span></span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VaspAECCARValidator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VaspAECCARValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.Validator" title="custodian.custodian.Validator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Validator</span></code></a></p>
<p>Check if the data in the AECCAR is corrupted</p>
<p>Dummy init</p>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.validators.VaspAECCARValidator.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VaspAECCARValidator.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VaspAECCARValidator.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.validators.VaspFilesValidator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VaspFilesValidator</span></span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VaspFilesValidator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VaspFilesValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.Validator" title="custodian.custodian.Validator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Validator</span></code></a></p>
<dl class="simple">
<dt>Check for existence of some of the files that VASP</dt><dd><p>normally create upon running.</p>
</dd>
</dl>
<p>Dummy init</p>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.validators.VaspFilesValidator.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VaspFilesValidator.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VaspFilesValidator.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.validators.VaspNpTMDValidator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VaspNpTMDValidator</span></span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VaspNpTMDValidator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VaspNpTMDValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.Validator" title="custodian.custodian.Validator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Validator</span></code></a></p>
<p>Check NpT-AIMD settings is loaded by VASP compiled with -Dtbdyn.
Currently, VASP only have Langevin thermostat (MDALGO = 3) for NpT ensemble.</p>
<p>Dummy init.</p>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.validators.VaspNpTMDValidator.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VaspNpTMDValidator.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VaspNpTMDValidator.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="custodian.vasp.validators.VasprunXMLValidator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">VasprunXMLValidator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'vasp.out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'std_err.txt'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VasprunXMLValidator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VasprunXMLValidator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.Validator" title="custodian.custodian.Validator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Validator</span></code></a></p>
<p>Checks that a valid vasprun.xml was generated</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>output_file</strong> (<em>str</em>) – Name of file VASP standard output is directed to.
Defaults to “vasp.out”.</p></li>
<li><p><strong>stderr_file</strong> (<em>str</em>) – Name of file VASP standard error is direct to.
Defaults to “std_err.txt”.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.vasp.validators.VasprunXMLValidator.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/validators.html#VasprunXMLValidator.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.VasprunXMLValidator.check" title="Permalink to this definition">¶</a></dt>
<dd><p>Check for error.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="custodian.vasp.validators.check_broken_chgcar">
<span class="sig-name descname"><span class="pre">check_broken_chgcar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">chgcar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diff_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/vasp/validators.html#check_broken_chgcar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.vasp.validators.check_broken_chgcar" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the charge density file is corrupt
:param chgcar: Chgcar-like object.
:type chgcar: Chgcar
:param diff_thresh: Threshold for diagonal difference.</p>
<blockquote>
<div><p>None means we won’t check for this.</p>
</div></blockquote>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-custodian.vasp">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-custodian.vasp" title="Permalink to this heading">¶</a></h2>
<p>This package implements various VASP Jobs and Error Handlers.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">custodian.vasp package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-custodian.vasp.handlers">custodian.vasp.handlers module</a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.AliasingErrorHandler"><code class="docutils literal notranslate"><span class="pre">AliasingErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.AliasingErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">AliasingErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.AliasingErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">AliasingErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.AliasingErrorHandler.error_msgs"><code class="docutils literal notranslate"><span class="pre">AliasingErrorHandler.error_msgs</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.AliasingErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">AliasingErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.CheckpointHandler"><code class="docutils literal notranslate"><span class="pre">CheckpointHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.CheckpointHandler.check"><code class="docutils literal notranslate"><span class="pre">CheckpointHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.CheckpointHandler.correct"><code class="docutils literal notranslate"><span class="pre">CheckpointHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.CheckpointHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">CheckpointHandler.is_monitor</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.CheckpointHandler.is_terminating"><code class="docutils literal notranslate"><span class="pre">CheckpointHandler.is_terminating</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.DriftErrorHandler"><code class="docutils literal notranslate"><span class="pre">DriftErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.DriftErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">DriftErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.DriftErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">DriftErrorHandler.correct()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.FrozenJobErrorHandler"><code class="docutils literal notranslate"><span class="pre">FrozenJobErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.FrozenJobErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">FrozenJobErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.FrozenJobErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">FrozenJobErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.FrozenJobErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">FrozenJobErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.IncorrectSmearingHandler"><code class="docutils literal notranslate"><span class="pre">IncorrectSmearingHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.IncorrectSmearingHandler.check"><code class="docutils literal notranslate"><span class="pre">IncorrectSmearingHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.IncorrectSmearingHandler.correct"><code class="docutils literal notranslate"><span class="pre">IncorrectSmearingHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.IncorrectSmearingHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">IncorrectSmearingHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.LargeSigmaHandler"><code class="docutils literal notranslate"><span class="pre">LargeSigmaHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.LargeSigmaHandler.check"><code class="docutils literal notranslate"><span class="pre">LargeSigmaHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.LargeSigmaHandler.correct"><code class="docutils literal notranslate"><span class="pre">LargeSigmaHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.LargeSigmaHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">LargeSigmaHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.LrfCommutatorHandler"><code class="docutils literal notranslate"><span class="pre">LrfCommutatorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.LrfCommutatorHandler.check"><code class="docutils literal notranslate"><span class="pre">LrfCommutatorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.LrfCommutatorHandler.correct"><code class="docutils literal notranslate"><span class="pre">LrfCommutatorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.LrfCommutatorHandler.error_msgs"><code class="docutils literal notranslate"><span class="pre">LrfCommutatorHandler.error_msgs</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.LrfCommutatorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">LrfCommutatorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler"><code class="docutils literal notranslate"><span class="pre">MeshSymmetryErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">MeshSymmetryErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">MeshSymmetryErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.MeshSymmetryErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">MeshSymmetryErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.NonConvergingErrorHandler"><code class="docutils literal notranslate"><span class="pre">NonConvergingErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.NonConvergingErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">NonConvergingErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.NonConvergingErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">NonConvergingErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.NonConvergingErrorHandler.from_dict"><code class="docutils literal notranslate"><span class="pre">NonConvergingErrorHandler.from_dict()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.NonConvergingErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">NonConvergingErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler"><code class="docutils literal notranslate"><span class="pre">PositiveEnergyErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">PositiveEnergyErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">PositiveEnergyErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.PositiveEnergyErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">PositiveEnergyErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.PotimErrorHandler"><code class="docutils literal notranslate"><span class="pre">PotimErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.PotimErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">PotimErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.PotimErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">PotimErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.PotimErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">PotimErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.ScanMetalHandler"><code class="docutils literal notranslate"><span class="pre">ScanMetalHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.ScanMetalHandler.check"><code class="docutils literal notranslate"><span class="pre">ScanMetalHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.ScanMetalHandler.correct"><code class="docutils literal notranslate"><span class="pre">ScanMetalHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.ScanMetalHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">ScanMetalHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StdErrHandler"><code class="docutils literal notranslate"><span class="pre">StdErrHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.StdErrHandler.check"><code class="docutils literal notranslate"><span class="pre">StdErrHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StdErrHandler.correct"><code class="docutils literal notranslate"><span class="pre">StdErrHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StdErrHandler.error_msgs"><code class="docutils literal notranslate"><span class="pre">StdErrHandler.error_msgs</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StdErrHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">StdErrHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StoppedRunHandler"><code class="docutils literal notranslate"><span class="pre">StoppedRunHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.StoppedRunHandler.check"><code class="docutils literal notranslate"><span class="pre">StoppedRunHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StoppedRunHandler.correct"><code class="docutils literal notranslate"><span class="pre">StoppedRunHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StoppedRunHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">StoppedRunHandler.is_monitor</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.StoppedRunHandler.is_terminating"><code class="docutils literal notranslate"><span class="pre">StoppedRunHandler.is_terminating</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.UnconvergedErrorHandler"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.UnconvergedErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.UnconvergedErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.UnconvergedErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.VaspErrorHandler"><code class="docutils literal notranslate"><span class="pre">VaspErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.VaspErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">VaspErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.VaspErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">VaspErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.VaspErrorHandler.error_msgs"><code class="docutils literal notranslate"><span class="pre">VaspErrorHandler.error_msgs</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.VaspErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">VaspErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.handlers.WalltimeHandler"><code class="docutils literal notranslate"><span class="pre">WalltimeHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.handlers.WalltimeHandler.check"><code class="docutils literal notranslate"><span class="pre">WalltimeHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.WalltimeHandler.correct"><code class="docutils literal notranslate"><span class="pre">WalltimeHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.WalltimeHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">WalltimeHandler.is_monitor</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.WalltimeHandler.is_terminating"><code class="docutils literal notranslate"><span class="pre">WalltimeHandler.is_terminating</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.handlers.WalltimeHandler.raises_runtime_error"><code class="docutils literal notranslate"><span class="pre">WalltimeHandler.raises_runtime_error</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-custodian.vasp.interpreter">custodian.vasp.interpreter module</a><ul>
<li><a class="reference internal" href="#custodian.vasp.interpreter.VaspModder"><code class="docutils literal notranslate"><span class="pre">VaspModder</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.interpreter.VaspModder.apply_actions"><code class="docutils literal notranslate"><span class="pre">VaspModder.apply_actions()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-custodian.vasp.jobs">custodian.vasp.jobs module</a><ul>
<li><a class="reference internal" href="#custodian.vasp.jobs.GenerateVaspInputJob"><code class="docutils literal notranslate"><span class="pre">GenerateVaspInputJob</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.jobs.GenerateVaspInputJob.postprocess"><code class="docutils literal notranslate"><span class="pre">GenerateVaspInputJob.postprocess()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.GenerateVaspInputJob.run"><code class="docutils literal notranslate"><span class="pre">GenerateVaspInputJob.run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.GenerateVaspInputJob.setup"><code class="docutils literal notranslate"><span class="pre">GenerateVaspInputJob.setup()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob"><code class="docutils literal notranslate"><span class="pre">VaspJob</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.constrained_opt_run"><code class="docutils literal notranslate"><span class="pre">VaspJob.constrained_opt_run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.double_relaxation_run"><code class="docutils literal notranslate"><span class="pre">VaspJob.double_relaxation_run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.full_opt_run"><code class="docutils literal notranslate"><span class="pre">VaspJob.full_opt_run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.metagga_opt_run"><code class="docutils literal notranslate"><span class="pre">VaspJob.metagga_opt_run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.postprocess"><code class="docutils literal notranslate"><span class="pre">VaspJob.postprocess()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.run"><code class="docutils literal notranslate"><span class="pre">VaspJob.run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.setup"><code class="docutils literal notranslate"><span class="pre">VaspJob.setup()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspJob.terminate"><code class="docutils literal notranslate"><span class="pre">VaspJob.terminate()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspNEBJob"><code class="docutils literal notranslate"><span class="pre">VaspNEBJob</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspNEBJob.postprocess"><code class="docutils literal notranslate"><span class="pre">VaspNEBJob.postprocess()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspNEBJob.run"><code class="docutils literal notranslate"><span class="pre">VaspNEBJob.run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.vasp.jobs.VaspNEBJob.setup"><code class="docutils literal notranslate"><span class="pre">VaspNEBJob.setup()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-custodian.vasp.validators">custodian.vasp.validators module</a><ul>
<li><a class="reference internal" href="#custodian.vasp.validators.VaspAECCARValidator"><code class="docutils literal notranslate"><span class="pre">VaspAECCARValidator</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.validators.VaspAECCARValidator.check"><code class="docutils literal notranslate"><span class="pre">VaspAECCARValidator.check()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.validators.VaspFilesValidator"><code class="docutils literal notranslate"><span class="pre">VaspFilesValidator</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.validators.VaspFilesValidator.check"><code class="docutils literal notranslate"><span class="pre">VaspFilesValidator.check()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.validators.VaspNpTMDValidator"><code class="docutils literal notranslate"><span class="pre">VaspNpTMDValidator</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.validators.VaspNpTMDValidator.check"><code class="docutils literal notranslate"><span class="pre">VaspNpTMDValidator.check()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.validators.VasprunXMLValidator"><code class="docutils literal notranslate"><span class="pre">VasprunXMLValidator</span></code></a><ul>
<li><a class="reference internal" href="#custodian.vasp.validators.VasprunXMLValidator.check"><code class="docutils literal notranslate"><span class="pre">VasprunXMLValidator.check()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#custodian.vasp.validators.check_broken_chgcar"><code class="docutils literal notranslate"><span class="pre">check_broken_chgcar()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-custodian.vasp">Module contents</a></li>
</ul>
</li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/custodian.vasp.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2013, Shyue Ping Ong, William Davidson Richards, Stephen Dacek, Xiaohui Qu, Matthew Horton, Samuel M. Blau.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>