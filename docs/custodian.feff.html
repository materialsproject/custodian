<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>custodian.feff package &#8212; custodian 2023.6.5 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/flasky.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />

   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-39574369-1']);
  _gaq.push(['_trackPageview']);
</script>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">custodian 2023.6.5 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">custodian.feff package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="custodian-feff-package">
<h1>custodian.feff package<a class="headerlink" href="#custodian-feff-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-custodian.feff.handlers">
<span id="custodian-feff-handlers-module"></span><h2>custodian.feff.handlers module<a class="headerlink" href="#module-custodian.feff.handlers" title="Permalink to this heading">¶</a></h2>
<p>This module implements specific error handler for FEFF runs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="custodian.feff.handlers.UnconvergedErrorHandler">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">UnconvergedErrorHandler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_filename</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'log1.dat'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/handlers.html#UnconvergedErrorHandler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.handlers.UnconvergedErrorHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.ErrorHandler" title="custodian.custodian.ErrorHandler"><code class="xref py py-class docutils literal notranslate"><span class="pre">ErrorHandler</span></code></a></p>
<p>Correct the unconverged error of FEFF’s SCF calculation.</p>
<p>Initializes the handler with the output file to check</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>output_filename</strong> (<em>str</em>) – Filename for the log1.dat file. log1.dat file
contains the SCF calculation convergence information. Change this only
if it is different from the default (unlikely).</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.feff.handlers.UnconvergedErrorHandler.check">
<span class="sig-name descname"><span class="pre">check</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/handlers.html#UnconvergedErrorHandler.check"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.handlers.UnconvergedErrorHandler.check" title="Permalink to this definition">¶</a></dt>
<dd><p>If the FEFF run does not converge, the check will return
“TRUE”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.feff.handlers.UnconvergedErrorHandler.correct">
<span class="sig-name descname"><span class="pre">correct</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/handlers.html#UnconvergedErrorHandler.correct"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.handlers.UnconvergedErrorHandler.correct" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform the corrections.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="custodian.feff.handlers.UnconvergedErrorHandler.is_monitor">
<span class="sig-name descname"><span class="pre">is_monitor</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#custodian.feff.handlers.UnconvergedErrorHandler.is_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>This class property indicates whether the error handler is a monitor,
i.e., a handler that monitors a job as it is running. If a
monitor-type handler notices an error, the job will be sent a
termination signal, the error is then corrected,
and then the job is restarted. This is useful for catching errors
that occur early in the run but do not cause immediate failure.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-custodian.feff.interpreter">
<span id="custodian-feff-interpreter-module"></span><h2>custodian.feff.interpreter module<a class="headerlink" href="#module-custodian.feff.interpreter" title="Permalink to this heading">¶</a></h2>
<p>Implements various interpreters and modders for FEFF calculations.</p>
<dl class="py class">
<dt class="sig sig-object py" id="custodian.feff.interpreter.FeffModder">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FeffModder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">strict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feffinp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/interpreter.html#FeffModder"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.interpreter.FeffModder" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.ansible.html#custodian.ansible.interpreter.Modder" title="custodian.ansible.interpreter.Modder"><code class="xref py py-class docutils literal notranslate"><span class="pre">Modder</span></code></a></p>
<p>A Modder for FeffInput sets</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>actions</strong> (<em>[</em><em>Action</em><em>]</em>) – A sequence of supported actions. See</p></li>
<li><p><strong>actions</strong> – A sequence of supported actions. See
<a class="reference internal" href="custodian.ansible.html#module-custodian.ansible.actions" title="custodian.ansible.actions"><code class="xref py py-mod docutils literal notranslate"><span class="pre">custodian.ansible.actions</span></code></a>. Default is None,
which means DictActions and FileActions are supported.</p></li>
<li><p><strong>strict</strong> (<em>bool</em>) – Indicating whether to use strict mode. In non-strict
mode, unsupported actions are simply ignored without any
errors raised. In strict mode, if an unsupported action is
supplied, a ValueError is raised. Defaults to True.</p></li>
<li><p><strong>feffinp</strong> (<em>FEFFInput</em>) – A FeffInput object from the current directory.
Initialized automatically if not passed (but passing it will
avoid having to reparse the directory).</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.feff.interpreter.FeffModder.apply_actions">
<span class="sig-name descname"><span class="pre">apply_actions</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actions</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/interpreter.html#FeffModder.apply_actions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.interpreter.FeffModder.apply_actions" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a list of actions to the FEFF Input Set and rewrites modified
files.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>[</strong><strong>dict</strong><strong>]</strong> (<em>actions</em>) – A list of actions of the form {‘file’: filename,
‘action’: moddermodification} or {‘dict’: feffinput_key,
‘action’: moddermodification}</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-custodian.feff.jobs">
<span id="custodian-feff-jobs-module"></span><h2>custodian.feff.jobs module<a class="headerlink" href="#module-custodian.feff.jobs" title="Permalink to this heading">¶</a></h2>
<p>This module implements basic kinds of jobs for FEFF runs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="custodian.feff.jobs.FeffJob">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">FeffJob</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feff_cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feff.out'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stderr_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'std_feff_err.txt'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">backup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzipped</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gzipped_prefix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feff_out'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/jobs.html#FeffJob"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.jobs.FeffJob" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="custodian.html#custodian.custodian.Job" title="custodian.custodian.Job"><code class="xref py py-class docutils literal notranslate"><span class="pre">Job</span></code></a></p>
<p>A basic FEFF job, run whatever is in the directory.</p>
<p>This constructor is used for a standard FEFF initialization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feff_cmd</strong> (<em>str</em>) – the name of the full executable for running FEFF</p></li>
<li><p><strong>output_file</strong> (<em>str</em>) – Name of file to direct standard out to.
Defaults to “feff.out”.</p></li>
<li><p><strong>stderr_file</strong> (<em>str</em>) – Name of file direct standard error to.
Defaults to “std_feff_err.txt”.</p></li>
<li><p><strong>backup</strong> (<em>bool</em>) – Indicating whether to backup the initial input files.
If True, the feff.inp will be copied with a “.orig” appended.
Defaults to True.</p></li>
<li><p><strong>gzipped</strong> (<em>bool</em>) – Whether to gzip the final output. Defaults to False.</p></li>
<li><p><strong>gzipped_prefix</strong> (<em>str</em>) – prefix to the feff output files archive. Defaults
to feff_out, which means a series of feff_out.1.tar.gz, feff_out.2.tar.gz, …
will be generated.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="custodian.feff.jobs.FeffJob.postprocess">
<span class="sig-name descname"><span class="pre">postprocess</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/jobs.html#FeffJob.postprocess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.jobs.FeffJob.postprocess" title="Permalink to this definition">¶</a></dt>
<dd><p>Renaming or gzipping all the output as needed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.feff.jobs.FeffJob.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/jobs.html#FeffJob.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.jobs.FeffJob.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs the actual FEFF run
:returns: (subprocess.Popen) Used for monitoring.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="custodian.feff.jobs.FeffJob.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/custodian/feff/jobs.html#FeffJob.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#custodian.feff.jobs.FeffJob.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs initial setup for FeffJob, do backing up.
Returns:</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-custodian.feff">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-custodian.feff" title="Permalink to this heading">¶</a></h2>
<p>Jobs and Handlers for FEFF calculations.</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">custodian.feff package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-custodian.feff.handlers">custodian.feff.handlers module</a><ul>
<li><a class="reference internal" href="#custodian.feff.handlers.UnconvergedErrorHandler"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler</span></code></a><ul>
<li><a class="reference internal" href="#custodian.feff.handlers.UnconvergedErrorHandler.check"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler.check()</span></code></a></li>
<li><a class="reference internal" href="#custodian.feff.handlers.UnconvergedErrorHandler.correct"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler.correct()</span></code></a></li>
<li><a class="reference internal" href="#custodian.feff.handlers.UnconvergedErrorHandler.is_monitor"><code class="docutils literal notranslate"><span class="pre">UnconvergedErrorHandler.is_monitor</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-custodian.feff.interpreter">custodian.feff.interpreter module</a><ul>
<li><a class="reference internal" href="#custodian.feff.interpreter.FeffModder"><code class="docutils literal notranslate"><span class="pre">FeffModder</span></code></a><ul>
<li><a class="reference internal" href="#custodian.feff.interpreter.FeffModder.apply_actions"><code class="docutils literal notranslate"><span class="pre">FeffModder.apply_actions()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-custodian.feff.jobs">custodian.feff.jobs module</a><ul>
<li><a class="reference internal" href="#custodian.feff.jobs.FeffJob"><code class="docutils literal notranslate"><span class="pre">FeffJob</span></code></a><ul>
<li><a class="reference internal" href="#custodian.feff.jobs.FeffJob.postprocess"><code class="docutils literal notranslate"><span class="pre">FeffJob.postprocess()</span></code></a></li>
<li><a class="reference internal" href="#custodian.feff.jobs.FeffJob.run"><code class="docutils literal notranslate"><span class="pre">FeffJob.run()</span></code></a></li>
<li><a class="reference internal" href="#custodian.feff.jobs.FeffJob.setup"><code class="docutils literal notranslate"><span class="pre">FeffJob.setup()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-custodian.feff">Module contents</a></li>
</ul>
</li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/custodian.feff.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2013, Shyue Ping Ong, William Davidson Richards, Stephen Dacek, Xiaohui Qu, Matthew Horton, Samuel M. Blau.
    </div>
<div class="footer">This page uses <a href="http://analytics.google.com/">
Google Analytics</a> to collect statistics. You can disable it by blocking
the JavaScript coming from www.google-analytics.com.
<script type="text/javascript">
  (function() {
    var ga = document.createElement('script');
    ga.src = ('https:' == document.location.protocol ?
              'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
  })();
</script>
</div>

  </body>
</html>